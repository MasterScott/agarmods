window.debug=!1;var sty=document.createElement("style");sty.id="loadercss";sty.innerHTML='#load{z-index:3000;position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,0.4);color:#fff;font-family:"Segoe UI","Microsoft YaHei"}.le *{padding:0;margin:0 auto;list-style:none;box-sizing:border-box;outline:none;font-weight:400}.le{text-align:center;margin:50vh auto;transform:translateY(-50%);position:relative;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;width:100px;height:100px}.le > span,.le > span:before,.le > span:after{content:"";display:block;border-radius:50%;border:2px solid #fff;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.le > span{width:100%;height:100%;top:0;left:0;border-left-color:transparent;-webkit-animation:effect-2 2s infinite linear;-moz-animation:effect-2 2s infinite linear;-ms-animation:effect-2 2s infinite linear;-o-animation:effect-2 2s infinite linear;animation:effect-2 2s infinite linear}.le > span:before{width:75%;height:75%;border-right-color:transparent}.le > span:after{width:50%;height:50%;border-bottom-color:transparent}@-webkit-keyframes effect-2{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes effect-2{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}';document.head.appendChild(sty);$("body").append('<div id="load"><div class="le"><span></span></div></div>');document.getElementById("overlays").style.display="none";document.getElementById("connecting").style.display="none";var ourskins="0chan;18-25;1up;360nati0n;8ball;UmguwJ0;aa9skillz;ace;adamzonetopmarks;advertisingmz;agar youtube;agariomods.com;al sahim;alaska;albania;alchestbreach;alexelcapo;algeria;am3nlc;amoodiesqueezie;amway921wot;amyleethirty3;anarchy;android;angrybirdsnest;angryjoeshow;animebromii;anonymous;antvenom;aperture;apple;arcadego;assassinscreed;atari;athenewins;authenticgames;avatar;aviatorgaming;awesome;awwmuffin;aypierre;baka;balenaproductions;bandaid;bane;baseball;bashurverse;basketball;bateson87;batman;battlefield;bdoubleo100;beats;bebopvox;belarus;belgium;bender;benderchat;bereghostgames;bert;bestcodcomedy;bielarus;bitcoin;bjacau1;bjacau2;black widow;blackiegonth;blitzwinger;blobfish;bluexephos;bluh;blunty3000;bobross;bobsaget;bodil30;bodil40;bohemianeagle;boo;boogie2988;borg;bowserbikejustdance;bp;breakfast;breizh;brksedu;buckballs;burgundy;butters;buzzbean11;bystaxx;byzantium;calfreezy;callofduty;captainsparklez;casaldenerd;catalonia;catalunya;catman;cavemanfilms;celopand;chaboyyhd;chaika;chaosxsilencer;chaoticmonki;charlie615119;charmander;chechenya;checkpointplus;cheese;chickfila;chimneyswift11;chocolate;chrisandthemike;chrisarchieprods;chrome;chucknorris;chuggaaconroy;cicciogamer89;cinnamontoastken;cirno;cj;ckaikd0021;clanlec;clashofclansstrats;cling on;cobanermani456;coca cola;codqg;coisadenerd;cokacola;colombia;colombiaa;commanderkrieger;communitygame;concrafter;consolesejogosbrasil;controless ;converse;cookie;coolifegame;coookie;cornella;cornell\u00e0;coruja;craftbattleduty;creeper;creepydoll;criken2;criousgamers;crispyconcords;cristian4games;csfb;cuba;cubex55;cyberman65;cypriengaming;cyprus;czech;czechia;czechrepublic;d7297ut;d7oomy999;dagelijkshaadee;daithidenogla;darduinmymenlon;darksideofmoon;darksydephil;darkzerotv;dashiegames;day9tv;deadloxmc;deadpool;deal with it;deathly hallows;deathstar;debitorlp;deigamer;demon;derp;desu;dhole;diabl0x9;dickbutt;dilleron;dilleronplay;direwolf20;dissidiuswastaken;dnb;dnermc;doge;doggie;dolan;domo;domokun;donald;dong;donut;doraemon;dotacinema;douglby;dpjsc08;dreamcast;drift0r;drunken;dspgaming;dusdavidgames;dykgaming;ea;easports;easportsfootball;eatmydiction1;eavision;ebin;eeoneguy;egg;egoraptor;eguri89games;egypt;eksi;electrokitty;electronicartsde;elementanimation;elezwarface;eligorko;elrubiusomg;enzoknol;eowjdfudshrghk;epicface;ethoslab;exetrizegamer;expand;eye;facebook;fantabobgames;fast forward;fastforward;favijtv;fazeclan;fbi;fer0m0nas;fernanfloo;fgteev;fidel;fiji;finn;fir4sgamer;firefox;fishies;flash;florida;fnatic;fnaticc;foe;folagor03;forcesc2strategy;forocoches;frankieonpcin1080p;freeman;freemason;friesland;frigiel;frogout;fuckfacebook;fullhdvideos4me;funkyblackcat;gaben;gabenn;gagatunfeed;gamebombru;gamefails;gamegrumps;gamehelper;gameloft;gamenewsofficial;gameplayrj;gamerspawn;games;gameshqmedia;gamespot;gamestarde;gametrailers;gametube;gamexplain;garenavietnam;garfield;gassymexican;gaston;geilkind;generikb;germanletsfail;getinmybelly;getinthebox;ghostrobo;giancarloparimango11;gimper;gimperr;github;giygas;gizzy14gazza;gnomechild;gocalibergaming;godsoncoc;gogomantv;gokoutv;goldglovetv;gommehd;gona89;gonzo;gonzossm;grammar nazi;grayhat;grima;gronkh;grumpy;gtamissions;gtaseriesvideos;guccinoheya;guilhermegamer;guilhermeoss;gurren lagann;h2odelirious;haatfilms;hagrid;halflife;halflife3;halo;handicapped;hap;hassanalhajry;hatty;hawaii;hawkeye;hdluh;hdstarcraft;heartrockerchannel;hebrew;heisenburg;helix;helldogmadness;hikakingames;hikeplays;hipsterwhale;hispachan;hitler;homestuck;honeycomb;hosokawa;hue;huskymudkipz;huskystarcraft;hydro;iballisticsquid;iceland;ie;igameplay1337;ignentertainment;ihascupquake;illuminati;illuminatiii;ilvostrocarodexter;imaqtpie;imgur;immortalhdfilms;imperial japan;imperialists;imperialjapan;imvuinc;insanegaz;insidegaming;insidersnetwork;instagram;instalok;inthelittlewood;ipodmail;iron man;isaac;isamuxpompa;isis;isreal;itchyfeetleech;itsjerryandharry;itsonbtv;iulitm;ivysaur;izuniy;jackfrags;jacksepticeye;jahovaswitniss;jahrein;jaidefinichon;james bond;jamesnintendonerd;jamonymow;java;jellyyt;jeromeasf;jew;jewnose;jibanyan;jimmies;jjayjoker;joeygraceffagames;johnsju;jontronshow;josemicod5;joueurdugrenier;juegagerman;jumpinthepack;jupiter;kalmar union;kame;kappa;karamba728;kenny;keralis;kiloomobile;kingdomoffrance;kingjoffrey;kinnpatuhikaru;kirby;kitty;kjragaming;klingon;knekrogamer;knights templar;knightstemplar;knowyourmeme;kootra;kripparrian;ksiolajidebt;ksiolajidebthd;kuplinovplay;kurdistan;kwebbelkop;kyle;kyokushin4;kyrsp33dy;ladle;laggerfeed;lazuritnyignom;ldshadowlady;le snake;lenny;letsplay;letsplayshik;letstaddl;level5ch;levelcapgaming;lgbt;liberland;libertyy;liechtenstien;lifesimmer;linux;lisbug;littlelizardgaming;llessur;loadingreadyrun;loki;lolchampseries;lonniedos;love;lpmitkev;luigi;luke4316;m3rkmus1c;macedonia;machinimarealm;machinimarespawn;magdalenamariamonika;mahalovideogames;malena010102;malta;mario;mario11168;markiplier;markipliergame;mars;maryland;masterball;mastercheif;mateiformiga;matroix;matthdgamer;matthewpatrick13;mattshea;maxmoefoegames;mcdonalds;meatboy;meatwad;meatwagon22;megamilk;messyourself;mickey;mike tyson;mike;miles923;minecraftblow;minecraftfinest;minecraftuniverse;miniladdd;miniminter;minnesotaburns;minnie;mkiceandfire;mlg;mm7games;mmohut;mmoxreview;mod3rnst3pny;moldova;morealia;mortalkombat;mr burns;mr.bean;mr.popo;mrchesterccj;mrdalekjd;mredxwx;mrlev12;mrlololoshka;mrvertez;mrwoofless;multirawen;munchingorange;n64;naga;namcobandaigameseu;nasa;natusvinceretv;nauru;nazi;nbgi;needforspeed;nepenthez;nextgentactics;nextgenwalkthroughs;ngtzombies;nick fury;nick;nickelodeon;niichts;nintendo;nintendocaprisun;nintendowiimovies;nipple;nislt;nobodyepic;node;noobfromua;northbrabant;northernlion;norunine;nosmoking;notch;nsa;obama;obey;officialclashofclans;officialnerdcubed;oficialmundocanibal;olafvids;omfgcata;onlyvgvids;opticnade;osu;ouch;outsidexbox;p3rvduxa;packattack04082;palau;paluten;pandaexpress;paulsoaresjr;pauseunpause;pazudoraya;pdkfilms;peanutbuttergamer;pedo;pedobear;peinto1008;peka;penguin;penguinz0;pepe;pepsi;perpetuumworld;pewdiepie;pi;pietsmittie;pig;piggy;pika;pimpnite;pinkfloyd;pinkstylist;pirate;piratebay;pizza;pizzaa;plagasrz;plantsvszombies;playclashofclans;playcomedyclub;playscopetrailers;playstation;playstation3gaminghd;pockysweets;poketlwewt;pooh;poop;popularmmos;potato;prestonplayz;protatomonster;prowrestlingshibatar;pt;pur3pamaj;quantum leap;question;rageface;rajmangaminghd;retard smile;rewind;rewinside;rezendeevil;reziplaygamesagain;rfm767;riffer333;robbaz;rockalone2k;rockbandprincess1;rockstar;rockstargames;rojov13;rolfharris;roomba;roosterteeth;roviomobile;rspproductionz;rss;rusgametactics;ryukyu;s.h.e.i.l.d;sah4rshow;samoa;sara12031986;sarazarlp;satan;saudi arabia;scream;screwattack;seal;seananners;serbia;serbiangamesbl;sethbling;sharingan;shell;shine;shofu;shrek;shufflelp;shurikworld;shuuya007;sinistar;siphano13;sir;skillgaming;skinspotlights;skkf;skull;skydoesminecraft;skylandersgame;skype;skyrim;slack;slovakia;slovenia;slowpoke;smash;smikesmike05;smoothmcgroove;smoove7182954;smoshgames;snafu;snapchat;snoop dogg;soccer;soliare;solomid;somalia;sp4zie;space ace;space;sparklesproduction;sparkofphoenix;spawn;speedyw03;speirstheamazinghd;spiderman;spongegar;spore;spqr;spy;squareenix;squirtle;ssohpkc;sssniperwolf;ssundee;stalinjr;stampylonghead;star wars rebel;starbucks;starchild;starrynight;staxxcraft;stitch;stupid;summit1g;sunface;superevgexa;superman;superskarmory;swiftor;swimmingbird941;syria;t3ddygames;tackle4826;taco;taltigolt;tasselfoot;tazercraft;tbnrfrags;tctngaming;teamfortress;teamgarrymoviethai;teammojang;terrorgamesbionic;tetraninja;tgn;the8bittheater;thealvaro845;theatlanticcraft;thebajancanadian;thebraindit;thecraftanos;thedanirep;thedeluxe4;thediamondminecart;theescapistmagazine;thefantasio974;thegaminglemon;thegrefg;thejoves;thejwittz;themasterov;themaxmurai;themediacows;themrsark;thepolishpenguinpl;theradbrad;therelaxingend;therpgminx;therunawayguys;thesims;theskylanderboy;thesw1tcher;thesyndicateproject;theuselessmouth;thewillyrex;thnxcya;thor;tintin;tmartn;tmartn2;tobygames;tomo0723sw;tonga;topbestappsforkids;totalhalibut;touchgameplay;transformer;transformers;trickshotting;triforce;trollarchoffice;trollface;trumpsc;tubbymcfatfuck;turkey;tv;tvddotty;tvongamenet;twitch;twitter;twosyncfifa;typicalgamer;uberdanger;uberhaxornova;ubisoft;uguu;ukip;ungespielt;uppercase;uruguay;utorrent;vanossgaming;vatican;venomextreme;venturiantale;videogamedunkey;videogames;vietnam;vikkstar123;vikkstar123hd;vintagebeef;virus;vladnext3;voat;voyager;vsauce3;w1ldc4t43;wakawaka;wales;walrus;wazowski;wewlad;white  light;whiteboy7thst;whoyourenemy;wiiriketopray;willyrex;windows;wingsofredemption;wit my woes;woodysgamertag;worldgamingshows;worldoftanks;worldofwarcraft;wowcrendor;wqlfy;wroetoshaw;wwf;wykop;xalexby11;xbox;xboxviewtv;xbulletgtx;xcalizorz;xcvii007r1;xjawz;xmandzio;xpertthief;xrpmx13;xsk;yamimash;yarikpawgames;ycm;yfrosta;yinyang;ylilauta;ylilautaa;yoba;yobaa;yobaaa;yogscast2;yogscastlalna;yogscastsips;yogscastsjin;yoteslaya;youalwayswin;yourheroes;yourmom;youtube;zackscottgames;zangado;zazinombies;zeecrazyatheist;zeon;zerkaahd;zerkaaplays;zexyzek;zimbabwe;zng;zoella;zoidberg;zombey;zoomingames",version=200;version!=localStorage.getItem("version")&&localStorage.setItem("version",version);function addCanvasBGHook(a){var c=a.match(/(\w)\.clearRect\(0,0,(\w),(\w)\)/);a=a.split(c[0]);a=a[0]+c[1]+".clearRect(0,0,"+c[2]+","+c[3]+");xx&&!xz?"+c[1]+".clearRect(0,0,"+c[2]+","+c[3]+"):"+a[1].substr(1);var d=a.match(/BFF";/);a=a.split(d[0]);return a[0]+'BFF";xx&&xz?'+c[1]+".clearRect(0,0,"+c[2]+","+c[3]+"):"+a[1]}function CreateChart(a,c,d,e,f){c={interactivityEnabled:d,title:null,axisX:{valueFormatString:" ",lineThickness:0,tickLength:0},axisY:{lineThickness:0,tickLength:0,gridThickness:2,gridColor:"white",labelFontColor:"white"},backgroundColor:"rgba(0,0,0,0.2)",data:[{type:"area",color:c,dataPoints:chart_data}]};e&&(c.width=e,c.height=f);return new CanvasJS.Chart(a,c)}function addRecieveHook(a){var c=a.match(/\w+\(new DataView\(..data\)\)/);a=a.split(c[0]);return a[0]+c[0]+";Recieve(a.data.byteLength);"+a[1]}function ResetChart(){chart=null;chart_counter=chart_data.length=0;jQuery("#chart-container").empty()}function OnGainMass(a,c){var d=c.size*c.size;if(c.h)stats.viruses.num++,":teams"!=gamemode()&&(stats.viruses.mass+=d),sfx_event(6);else if(400>=Math.floor(d)&&!c.name)stats.pellets.num++,stats.pellets.mass+=d,play_pellet();else{if(!c.name&&1444>=d&&(1369<=d||c.x==c.ox&&c.y==c.oy))c.color!=a.color&&(stats.w.num++,stats.w.mass+=d);else{var e=c.name+":"+c.color;stats.cells.num++;stats.cells.mass+=d;void 0==stats.gains[e]&&(stats.gains[e]={num:0,mass:0});stats.gains[e].num++;stats.gains[e].mass+=d}sfx_event(1)}}function sfx_event(a){0!=document.getElementById("sfx").value&&(a=jQuery.clone(sfxs[a]),a.volume=document.getElementById("sfx").value,a.load(),a.play())}var test=1,passed=0,failed=0,chart_update_interval=10,chart=null,chart_data=[],chart_counter=0,chart_s="",chart_m="",chart_G="",chart_Na="",chart_k="",sd="",mainout=window.location.protocol+"//agar.io/main_out.js";httpGet(mainout,function(a){winvar=a.substr(10,1);gamejs="window.agariomods = "+a.replace("socket open","socket open (agariomods.com mod in place)");gamejs=gamejs.replace(/\n/g,"");sd=gamejs.substr(gamejs.search(/\w.send/),1);offset=gamejs.search('..="poland;');Ja=gamejs.substr(offset,2);offset=gamejs.search('.....src="skins');b=gamejs.substr(offset+2,1);offset=gamejs.search(/\w+\.indexOf\(.\)\?/);sk=gamejs.substr(offset,2);offset=gamejs.search(".."+b+"..src");W=gamejs.substr(offset,1);gamd=gamejs.match(/":teams"!=(\w)/)[1];mycells=gamejs.match(/1==(\w+)\.length&&\(/)[1];a=/this\.(.)&&.\.strokeText/.exec(gamejs);pandb=a[1];a=/(\w)\.strokeText\((.{1,14})\);/.exec(gamejs);c3eg2=a[2];bdot=a[1];a=/\((.)\=..x,.\=..y,/.exec(gamejs);chart_s=a[1];a=/\(.\=(.).x,.\=..y,/.exec(gamejs);chart_m=a[1];a=/(.)\=Math.max\(.,..\(\)\);/.exec(gamejs);chart_G=a[1];a=/.\=Math.max\(.,(..)\(\)\);/.exec(gamejs);chart_Na=a[1];a=/(.)\[0\]\.name\&\&\(/.exec(gamejs);chart_k=a[1];agariomodsRuntimeInjection()});function addOnDrawHook(a){var c=a.match(/\w+\.width&&(\w+)\.drawImage\(\w+,\w+-\w+\.width-10,10\);/);a=a.split(c[0]);return a[0]+c[0]+"OnDraw("+c[1]+");"+a[1]}var __STORAGE_PREFIX="mikeyk730__";function addSkinHook(a){var c=a.match(/(\w+)=null:\w+=null;/);a=a.split(c[0]);return a[0]+c[1]+"=null:"+c[1]+"=null;if(custom&&("+b+".substring(0,2).match(/^(i\\/|\\*.)$/))){"+c[1]+"=null;}"+a[1]}function LS_setValue(a,c){localStorage.setItem(__STORAGE_PREFIX+a,c)}function addOnSendHook(a){var c=a.match(/\w+\.send\(\w+\.buffer\)/);a=a.split(c[0]);return a[0]+c[0]+";OnSend(a.byteLength);"+a[1]}function preset(a,c){null==localStorage.getItem(a)&&localStorage.setItem(a,c)}preset("chatEnabled","true");preset("settingShow_chart","true");preset("showt","true");preset("nick","");var skinblacklist="boobs,naked,girl,*,porn,0*,pussy,censorship,tits",showsh=!1,showt="true"==localStorage.getItem("showt"),chatEnabled="true"==localStorage.getItem("chatEnabled"),extToggled=!1,rse=document.getElementById("region").cloneNode(!0);window.server={ip:"",i:"",location:""};var ldown=!1,pload=0,ptime=!1,showfps=!1,showpio=!1,showbio=!1;window.addEventListener("message",function(a){"ScriptDisable"==a.data&&(extToggled=!0,window.top.location=window.top.location)},!1);null===showt&&(localStorage.setItem("showt","true"),showt=!0);setInterval(function(){showsh&&DrawStats(!1);showt&&in_game&&count();ptime&&time(Date.now())},1E3);for(var gamejs="",modBlocking=!0,tester=document.getElementsByTagName("script"),i=0,W="",Ja="",b="",sk="",c3eg2="",in_game=!1,pandb="",bgmusic="",tracks="BotB 17936 Isolation Tank.mp3;BotB 17934 bubblybubblebubblingbubbles.mp3;BotB 17935 bloblobloblboblbolboblboblbobolbloblob.mp3;BotB 17937 Woofytunes.mp3;BotB 17938 slowgrow.mp3;BotB 18549 a blob's life.mp3;BotB 18550 war of the orbs.mp3;BotB 18551 blob tower.mp3".split(";"),ssfxlist=["spawn","gameover"],ssfxs=[],i=0;i<ssfxlist.length;i++){var newsfx=new Audio("//skins.agariomods.com/botb/sfx/"+ssfxlist[i]+".mp3");newsfx.loop=!1;ssfxs.push(newsfx)}function handleHash(){if(-1!=window.location.toString().indexOf("?")){var a=window.location.toString().substr(window.location.toString().indexOf("?")+1);if(-1==a.indexOf("/")&&-1!==a.search(/:\d/)&&-1!==a.search(/[a-zA-Z0-9]\.[a-zA-Z0-9]/)&&encodeURI(a)==a)try{connect("ws://"+a);alert("Joined: "+d);return}catch(c){alert("Illegal IP/URL");return}else{alert("Invalid IP/URL");return}}if("#"!=window.location.hash&&""!=window.location.hash&&6!=window.location.hash.length){var d=decodeURIComponent(window.location.hash.substr(1)).trim();if(-1==d.indexOf("/")&&-1!==d.search(/:\d/)&&-1!==d.search(/[a-zA-Z0-9]\.[a-zA-Z0-9]/)&&encodeURI(d)==d)try{connect("ws://"+d);alert("Joined: "+d);return}catch(e){alert("Illegal IP/URL");return}history.replaceState("agar.io","Agar.io","/");if(getCookie("apikey")==d)alert("You already have this account linked with Agariomods.");else if(0==d.search(/^{agariomods.com:\d+:[a-f0-9]{8}:[a-zA-Z0-9=]+:[a-zA-Z0-9=]+}$/)){var f=d.split(":")[1];jQuery.ajax({url:"http://connect.agariomods.com/json/nodechatcheck.php?u="+d,dataType:"json",success:function(a){if(""===getCookie("apikey")||confirm("You already have an account account linked with Agariomods!\nLinking this account will unlink the currently linked account.\nDo you want to continue?"))"0"!=a.error?alert("A Server Error Occured! Error Code: "+(null===a.error?"-1":a.error)):a.user_id==f?(document.cookie="apikey="+d,alert("Welcome "+a.username+", you can now chat in our private servers, press C to bring up chat, and press Enter to start typing.\nThe page will now reload."),extToggled=!0,window.location=window.location):alert("Error: Incorrect API Key")},error:function(){alert("Error: Failed to establish connection to connect.agariomods.com")}})}else alert("Error: Invalid API Key/Server Location")}}window.openServerbrowser=function(a){window.openServerbrowser.loading||(jQuery("#rsb").prop("disabled",!0),a||jQuery("#serverBrowser").fadeIn(),getServers())};window.closeServerbrowser=function(){jQuery("#serverBrowser").fadeOut()};var locations="Chicago Beta;Dallas Beta;Frankfurt Beta;London Beta;Los Angeles Beta;Miami Beta;New Jersey Beta;Paris Beta;Seattle Beta;Silicon Valley Beta;Sydney Beta;Amsterdam;Amsterdam Beta;Atlanta Beta;Frankfurt;London;Quebec;Paris;Atlanta;Chicago;Dallas;Los Angeles;Miami;New Jersey;Seattle;Silicon Valley;Sydney;Tokyo".split(";"),lut="Amsterdam;Frankfurt;London;Quebec;Paris;Atlanta;Chicago;Dallas;Los Angeles;Miami;New Jersey;Seattle;Silicon Valley;Sydney;Tokyo".split(";");locations.sort();lut.sort();function ifEnd(a){return 0==in_game?a:""};function UpdateChart(a,c){var d=window.innerHeight-document.getElementById("canvas").height;0!=d&&jQuery("div:not(#chartArea)>.canvasjs-chart-container>.canvasjs-chart-canvas").css("bottom",-176+d);my_color=c;null===chart&&(chart=CreateChart("chart-container",c,!1));UpdateChartData(a)&&document.getElementsByClassName("")&&chart.render();jQuery(".canvasjs-chart-credit").hide()}function addPCSHook(a){var c=a.match(/-1!=\w+\.indexOf\((\w+)\)\?/);a=a.split(c[0]);a=a[0]+"(pcs&&-1!="+mycells+".indexOf(this))||"+c[0]+a[1];c=a.match(/\(\w\.hasOwnProperty\(\w\)/);a=a.split(c[0]);a=a[0]+"("+c[0]+a[1];c=a.match(/\|\|\((\w)\[(\w)/);a=a.split(c[0]);return a[0]+"&&!(pcs&&pcsrc!="+c[1]+"["+c[2]+"]))"+c[0]+a[1]}function getCookie(a){a+="=";for(var c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(a))return e.substring(a.length,e.length)}return""}window.closeChat=function(){jQuery("#chat").fadeOut();socket&&socket.disconnect()};function alltime(a){null===localStorage.getItem("alltime")&&localStorage.setItem("alltime",0);localStorage.setItem("alltime",1*(1*localStorage.getItem("alltime")+1*a));return 1*localStorage.getItem("alltime")}function DrawPie(a,c,d,e){var f=a+c+d+e;pie=new CanvasJS.Chart("pieArea",{title:null,animationEnabled:!1,legend:{verticalAlign:"center",horizontalAlign:"left",fontSize:12,fontFamily:"Helvetica"},theme:"theme2",height:186,width:248,data:[{type:"pie",startAngle:-20,showInLegend:!0,toolTipContent:"{legendText} {y}%",dataPoints:[{y:100*a/f,legendText:"pellets"},{y:100*d/f,legendText:"cells"},{y:100*c/f,legendText:"w"},{y:100*e/f,legendText:"viruses"}]}]});pie.render()}function tst(a){a?$("#chart-container-agariomods").css({bottom:"5px",right:"5px",top:"",left:""}):$("#chart-container-agariomods").css({bottom:"",right:"",top:"3px",left:"5px"});a?$("div#benchmarker").css({bottom:"25px"}):$("div#benchmarker").css({bottom:"10px"})}jQuery(document).ready(function(){jQuery("body").append('<div id="chart-container" class="ui" style="display:none; position:absolute; height:176px; width:300px; left:10px; bottom:44px"></div>\t\t\t <div id="chart-container-agariomods" class="ui" style="position:absolute; font-size:15px; right:5px; bottom:5px; /* -webkit-filter: invert(100%); filter: invert(100%); */"> agariomods.com - modding <b>without</b> cheating</div>\t\t\t <div id="debug" class="ui" style="position:absolute; top:5px; left:10px;">\t\t\t <div id="time-agariomods" style="color: white; display: none; background-color: rgba(0,0,0,.5); padding:0 4px;"><b>Page Time: </b><span>0</span></div>\t\t\t <div id="fps" class="fps-agariomods" style="color: white; display: none; background-color: rgba(0,0,0,.5); padding:0 4px;"><b>Frame Rate: </b><span>0</span>/s</div>\t\t\t <div id="dfps" class="fps-agariomods" style="color: white; display: none; background-color: rgba(0,0,0,.5); padding:0 4px;"><b>Dropped Frames: </b><span>0</span>/s</div>\t\t\t <div id="pi" class="pio-agariomods" style="color: white; display: none; background-color: rgba(0,0,0,.5); padding:0 4px;"><b>Packets In: </b><span>0</span>/s</div>\t\t\t <div id="po" class="pio-agariomods" style="color: white; display: none; background-color: rgba(0,0,0,.5); padding:0 4px;"><b>Packets Out: </b><span>0</span>/s</div>\t\t\t <div id="bi" class="bio-agariomods" style="color: white; display: none; background-color: rgba(0,0,0,.5); padding:0 4px;"><b>Download: </b><span>0</span> Bps</div>\t\t\t <div id="bo" class="bio-agariomods" style="color: white; display: none; background-color: rgba(0,0,0,.5); padding:0 4px;"><b>Upload: </b><span>0</span> Bps</div>\t\t\t </div>\t\t\t ');jQuery("#instructions").remove();jQuery(".glyphicon-cog").addClass("glyphicon-refresh");jQuery(".glyphicon-cog").removeClass("glyphicon-cog");jQuery(".btn-settings").attr("onclick","setR()");jQuery(".btn-login").attr("type","button");jQuery(".btn-settings").attr("type","button");jQuery(".btn-settings").css({width:"15%",height:"35px"});jQuery(".btn-settings").removeClass("btn-settings");jQuery("#settings").show();var a=jQuery("#settings input[type=checkbox]").closest("div");a.append("<label><input type=\"checkbox\" id=\"acid\" onchange=\"setAcid($(this).is(':checked'));if($(this).is(':checked')){$('#bgimg').attr('checked',false);check(document.getElementById('bgimg'));}\">Acid</label>");a.append("<label><input type=\"checkbox\" onchange=\"if(this.checked){jQuery('#chart-container').show()}else{jQuery('#chart-container').hide()}\">Show chart</label>");a.append('<label><input type="checkbox" onchange="setVColors($(this).is(\':checked\'));">Colorless Viruses</label>');a.append('<label><input id="custom" type="checkbox" onchange="setCustom($(this).is(\':checked\'));">No Custom Skins</label>');a.append('<label><input type="checkbox" onchange="setTeamMass($(this).is(\':checked\'));">Show Teamed Mass</label>');a.append('<label><input id="tskins" type="checkbox" onchange="setTskins($(this).is(\':checked\'));">Team Skins</label>');a.append('<label><input type="checkbox" onchange="setMVR($(this).is(\':checked\'));">Maximize View</label>');a.append('\t<label nosave><input id="setChat" type="checkbox" onchange="$(document).trigger(jQuery.Event(\'keydown\',{ keyCode:\'67\',which:\'67\'}));">Ogar Chat Enabled</label>\t<label nosave><input id="bgimg" type="checkbox" onchange="setBG($(this).is(\':checked\'));">Set Background</label>\t<label nosave><input id="pcson" type="checkbox" onchange="setPCS($(this).is(\':checked\'));">Set Client Skin</label>\t');a.append('<div id="sliders" style="white-space:nowrap;display:inline;"><label>SFX<input id="sfx" type="range" value="0" step=".1" min="0" max="1"></label><label>BGM<input type="range" id="bgm" value="0" step=".1" min="0" max="1" oninput="volBGM(this.value);"></label></div>');jQuery("#helloContainer").append('<div id="egstats" style="display:none;"><div id="statArea" style="vertical-align:top; width:250px; display:inline-block;"></div><div id="pieArea" style="vertical-align: top; float:right;width:248px; height:186px; display:inline-block; vertical-align:top;"> </div><div id="gainArea" style="width:250px; vertical-align:top;float:left"></div><div id="lossArea" style="width:250px; float:right;"></div><div id="chartArea" style="float:left;width:500px; display:inline-block; vertical-align:top"></div></div>');jQuery("#egstats").hide(0);a=$(".agario-profile-name-container");a[0].outerHTML='<div class="ribbon"><a href onclick="confirm(\'You sure you want to log out?\')&&logout(); return false;">Logout</a></div>'+a[0].outerHTML;document.getElementById("options").style.fontSize="14px";document.getElementById("setChat").checked=chatEnabled});function testCondition(a,c,d){var e=window.debug;2==a?e&&console.log("test: #"+c+" EXECUTED - "+d):a?(e&&console.log("test: #"+c+" PASSED - "+d),passed++):(console.error("test: #"+c+" FAILED - "+d),failed++)}function addChartHooks(a){match=a.match(/max\((\w+),(\w+)\(/);var c=match[1],d=match[2];match=a.match(/1==(\w+)\.length&&\(/);a=a.split(match[0]);a=a[0]+"1=="+mycells+".length&&(OnGameStart("+mycells+",Date.now()),"+a[1];a=a.split(a.match(/\w+\("score"\)\+": "\+~~\(\w+\/100\)/)[0]);match=a[1].match(/-(\d+)\)\);/);var e=a[1].split(match[0]);a[1]=e[0]+"-"+match[1]+"),("+mycells+"&&"+mycells+"[0]&&OnUpdateMass("+d+"())));"+e[1];return a[0]+'"Score: "+~~('+d+'()/100)+" High: "+~~('+c+'/100)+(((attr("data-party-state")==5||attr("data-party-state")==1)&&'+mycells+'[0])?(" | X:"+Math.round(~~('+mycells+'[0].x)*.1)+"0 Y:"+Math.round(~~('+mycells+'[0].y)*.1)+"0"):(""))'+a[1]}function gamejs_patch(a,c,d,e){gamejs=gamejs.replace(a,c);testCondition(null==e?-1!=gamejs.indexOf(c):2,test++,d)}function LS_getValue(a,c){var d=localStorage.getItem(__STORAGE_PREFIX+a);return null===d&&"undefined"!=typeof c?c:d}function RenderStats(a){a&&(g_layout_width=g_display_width);g_stat_spacing=0;a=GetTopN(3,"gains");var c=GetTopN(3,"losses"),d=30+styles.heading.spacing+2*styles.subheading.spacing+styles.normal.spacing*(4+a.length+c.length);stat_canvas=document.createElement("canvas");var e=Math.min(g_display_width,.3*window.innerWidth)/g_layout_width;stat_canvas.width=g_layout_width*e;stat_canvas.height=d*e;var f=stat_canvas.getContext("2d");f.scale(e,e);f.globalAlpha=.4;f.fillStyle="#000000";f.fillRect(0,0,g_layout_width,d);f.fillStyle="#FFFFFF";AppendText("Stats",f,"heading");d=stats.pellets.num+" pellets eaten ("+~~(stats.pellets.mass/100)+")";AppendText(d,f,"normal");d=stats.w.num+" mass eaten ("+~~(stats.w.mass/100)+")";AppendText(d,f,"normal");d=stats.cells.num+" cells eaten ("+~~(stats.cells.mass/100)+")";AppendText(d,f,"normal");d=stats.viruses.num+" viruses eaten ("+~~(stats.viruses.mass/100)+")";AppendText(d,f,"normal");AppendText("Top Gains",f,"subheading");for(e=0;e<a.length;++e)d=e+1+". "+a[e].name+" ("+a[e].mass+")",f.fillStyle=a[e].color,AppendText(d,f,"normal");f.fillStyle="#FFFFFF";AppendText("Top Losses",f,"subheading");for(e=0;e<c.length;++e)d=e+1+". "+c[e].name+" ("+c[e].mass+")",f.fillStyle=c[e].color,AppendText(d,f,"normal")}jQuery(window).resize(function(){RenderStats(!1)});window.OnGameStart=function(a,c){onwsclose();initbench(!1);in_game=!0;my_cells=a;ResetChart();ResetStats(c);RenderStats(!0);DrawStats(!1);1==kd&&(showsh=!1,document.getElementById("overlays").style.display="none",document.getElementById("overlays").style.pointerEvents="auto",jQuery("#egstats").appendTo($("#helloContainer")),$("#helloContainer").hide(),kd=!1);StartBGM();sfx_play(0);null===localStorage.getItem("played")&&localStorage.setItem("played",0)};window.StartBGM=function(){0!=document.getElementById("bgm").value&&(""==bgmusic.src&&(bgmusic.src="//skins.agariomods.com/botb/"+tracks[Math.floor(Math.random()*tracks.length)]),bgmusic.volume=document.getElementById("bgm").value,bgmusic.play())};window.StopBGM=function(){0!=document.getElementById("bgm").value&&(bgmusic.pause(),bgmusic.src="//skins.agariomods.com/botb/"+tracks[Math.floor(Math.random()*tracks.length)],bgmusic.load())};window.volBGM=function(a){bgmusic.volume=document.getElementById("bgm").value};window.onwsclose=function(){in_game&&OnDeath(!1)};window.OnDeath=function(){sfx_play(1);StopBGM();stats.time_of_death=Date.now();showsh=!1;tst(!0);document.getElementById("benchmarker").style.bottom="25px";in_game=!1;DrawStats(!0);1==kd&&(document.getElementById("overlays").style.display="block",document.getElementById("overlays").style.pointerEvents="auto",$("#helloContainer").show(),document.getElementById("helloContainer").style.display="block",kd=!1)};window.OnShowOverlay=function(a){tst(!0);document.getElementById("benchmarker").style.bottom="25px";a||(in_game=!1);DrawStats(!1);1==kd&&(document.getElementById("overlays").style.display="block",document.getElementById("overlays").style.pointerEvents="auto",jQuery("#egstats").appendTo($("#helloContainer")),$("#helloContainer").show(),kd=!1);in_game?(showsh=!0,canvas.onmousedown(0,0)):showsh=!1};var fired=!1;window.OnHideOverlay=function(){1==fired?fired=!1:(fired=!0,1==showsh&&(showsh=!1),tst(0<showfps+showpio+showbio+ptime))};window.OnUpdateMass=function(a){stats.high_score=Math.max(stats.high_score,a);UpdateChart(a,GetRgba(my_cells[0].color,.4));benchcheck(a)};window.OnCellEaten=function(a,c){my_cells&&(-1!=my_cells.indexOf(a)&&(OnGainMass(a,c),RenderStats(!1)),-1!=my_cells.indexOf(c)&&(OnLoseMass(c,a),RenderStats(!1),1==my_cells.length&&in_game&&"none"==document.getElementById("overlays").style.display&&OnDeath()))};window.OnLeaderboard=function(a){stats.top_slot=Math.min(stats.top_slot,a)};window.stillOnLeaderboard=function(a){if(a!=window.stillOnLeaderboard.leading){if(window.stillOnLeaderboard.leading=a)window.stillOnLeaderboard.time=Date.now()}else a&&(stats.leader_time+=Date.now()-window.stillOnLeaderboard.time,window.stillOnLeaderboard.time=Date.now())};window.stillOnLeaderboard.leading=!1;window.OnDraw=function(a){showfps&&(document.getElementById("fps").children[1].innerHTML=rate("FPS"));display_stats&&stat_canvas&&a.drawImage(stat_canvas,10,10)};window.OnDrop=function(){showfps&&(document.getElementById("dfps").children[1].innerHTML=rate("DFPS"))};window.Recieve=function(a){showbio&&(document.getElementById("bi").children[1].innerHTML=Math.floor(multirate("BI",a)));showpio&&(document.getElementById("pi").children[1].innerHTML=rate("PI"))};window.OnSend=function(a){showbio&&(document.getElementById("bo").children[1].innerHTML=Math.floor(multirate("BO",a)));showpio&&(document.getElementById("po").children[1].innerHTML=rate("PO"))};function GetRgba(a,c){var d=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/.exec(a);return"rgba("+parseInt(d[1],16)+","+parseInt(d[2],16)+","+parseInt(d[3],16)+","+c+")"}function UpdateChartData(a){chart_counter++;if(0<chart_counter%chart_update_interval)return!1;chart_data.push({x:chart_counter,y:a/100});return!0}function addLine(a){""==a.name&&(a.name="Unnamed");var c=$("<div>").text(a.name).html();a=$("<div>").text(a.text).html();jQuery("#chatlines").append('<b><a href="#">'+c+"</a>:</b> <span>"+a+"</span><br>");jQuery("#chatlines").animate({scrollTop:$("#chatlines")[0].scrollHeight})}window.sendMSG=function(){if(""!=$("#chatinputfield").val().trim()){var a=jQuery("#chatinputfield").val();jQuery("#chatinputfield").val("");socket.emit("chat",{text:a})}tChat(!0)};window.tChat=function(a){a?jQuery("#chatinput").fadeOut("fast"):jQuery("#chatinput").fadeIn("fast")};window.isVisible=function(){return jQuery("#chatinput").is(":visible")?!0:!1};window.onload=handleHash;function best(a,c){var d=localStorage.getItem("best_"+a);void 0==typeof localStorage.getItem("best_"+a)&&(d=0);c>d&&localStorage.setItem("best_"+a,c);return null!=localStorage.getItem("best_"+a)?localStorage.getItem("best_"+a):"0"}function addOnCellEatenHook(a){var c=a.match(/(\w+)&&(\w+)\)\{(\w+)\.(\w+)/);a=a.split(c[0]);return a[0]+c[1]+"&&"+c[2]+"){OnCellEaten("+c[1]+","+c[2]+");"+c[3]+"."+c[4]+a[1]}function serverinfo(a,c){c>=a.length?(window.openServerbrowser.loading=!1,jQuery("#rsb").prop("disabled",!1)):(value=a[c],statsurl="http://"+value[0]+".iomods.com:"+(8080+value[1]),jQuery.ajax({url:statsurl,dataType:"json",timeout:5E3,success:function(a){$("#"+(value[0]+value[1])+" #player").text(a.current_players+"/"+a.max_players);a=a.gamemode;"[Arenas] Hunger Games"==a&&(a="[A]HG")||"Hunger Games"==a&&(a="HG")||"Free For All"==a&&(a="FFA")||"Zombie Team"==a&&(a="TeamZ")||"Experimental"==a&&(a="Exp");$("#"+(value[0]+value[1])+" #game").text(a)},error:function(a,c,f){jQuery("#"+(value[0]+value[1])+" #player").css("display","none");jQuery("#"+(value[0]+value[1])+" .fa-users").css("display","none");jQuery("#"+(value[0]+value[1])+" #br").css("display","none");jQuery("#"+(value[0]+value[1])+" #game").css({color:"#f00",display:"block",textShadow:" -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black"});a="";"error"==c?a="Connection Failed":"timeout"==c?a="Connection Timed Out":"Error: "+c.charAt(0).toUpperCase()+c.substr(1);jQuery("#"+(value[0]+value[1])+" #game").text(a)},complete:function(d){"none"==document.getElementById("serverBrowser").style.display||serverinfo(a,c+1)}}))}jQuery(document).ready(function(){jQuery("body").append('<div id="serverBrowser" class="overlay" style="display:none;"><div class="valign"><div class="popupbox"><div class="popheader"><h3>Agariomods Ogar Server Browser</h3></div>\t<div class="scrollable"><div id="serverlist" style="border:1px solid #e8e8e8;width:100%;"></div></div><div class="popupbuttons"><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" style=" display: block; float: left; "> <input type="hidden" name="cmd" value="_s-xclick"> <input type="hidden" name="hosted_button_id" value="TJBQTYEC9NWZS"> <input type="image" src="https://www.paypalobjects.com/en_US/GB/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal \u00e2\u20ac\u201c The safer, easier way to pay online."> <img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1" height="1"> </form><button onclick="closeServerbrowser()" type="button" style="transform:translateX(-74%);margin:4px"\tclass="btn btn-danger">Back</button><button id="rsb" onclick="openServerbrowser(true)" class="btn btn-info" type="button" style="float:right;margin:4px;">Refresh <i class="glyphicon glyphicon-refresh"></i></button></div></div></div></div>');jQuery("#settings").prepend('<button type="button" id="opnBrowser" onclick="openServerbrowser();" style="position:relative;top:-8px;width:100%" class="btn btn-success">Agariomods Private Servers</button><br>');jQuery("body").append('<div id="chat" style="display:none"><div id="chatlines"></div><div id="chatinput" style="display:none" class="input-group">\t<input type="text" id="chatinputfield" class="form-control" maxlength="120" onblur="tChat(!0)"><span class="input-group-btn">\t<button onclick="sendMSG()" class="btn btn-default" type="button">Send</button></span></div></div><div id="gps" style="display:none"><span>GPS (X,Y): </span><div id="coords"><span>(</span><input min="0" type="text" class="coord" maxlength="4"/><span>,</span><input min="0" type="text" class="coord" maxlength="4"/><span>)</span></div><button style="margin-left:5px" class="btn btn-info" onclick="var a=document.getElementsByClassName(\'coord\');window.nav(Math.floor(a[0].value),Math.floor(a[1].value),true);$(\'.coord\').blur()">Go</button><button style="margin-left:5px" class="btn btn-danger" onclick="nav(0,0,false)">Stop</button></div>')});function benchcheck(a){a=Math.floor(a/100);for(var c=0;c<mass_benchmarks.length;c++)massPrev<mass_benchmarks[c]&&a>=mass_benchmarks[c]&&logBenchmark(mass_benchmarks[c]+"mass",Date.now()-stats.birthday)}var st=document.createElement("style");st.innerHTML="#gps span{float:left;background-color:transparent;border:0;font:24px Ubuntu;font-weight:bold;color:#fff;outline:none;box-shadow:none;background-color:rgba(0,0,0,0)}#gps>span{margin-top:3px;font:20px Ubuntu;font-weight:bold}div#gps{position:absolute;top:0;left:50%;transform:translateX(-50%);padding:6px 10px;float:left;color:#fff;font-weight:700;background-color:rgba(0,0,0,0.49803);white-space:nowrap}div#coords{padding:2px;float:left;color:#fff;white-space:nowrap;background-color:rgba(0,0,0,0.49803)}input.coord{font:23px Ubuntu;float:left;width:70px;margin:0 2px;color:#fff;background:transparent;font-weight:normal;white-space:nowrap;outline:none}.serverrower{table-layout: fixed;display:table;height:40px;width:100%}.serverrow{display:table-row;height:40px;}.serveritem{vertical-align:middle;text-decoration:none;display:table-cell;width:40px;height:40px;border:1px solid #ccc;padding:4px;}.servername{width:100px}.serveritem:not(.servername):hover{text-decoration:none;background-color:#E9FCFF;}.overlay{line-height:1.2;margin:0;font-family:sans-serif;text-align:center;position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;background-color:rgba(0,0,0,0.2)}.popupbox{position:absolute;height:100%;width:60%;left:20%;background-color:rgba(255,255,255,0.95);box-shadow:0 0 20px #000}.popheader{position:absolute;top:0;width:100%;height:50px;background-color:rgba(200,200,200,0.5)}.browserfilter{position:absolute;padding:5px;top:50px;width:100%;height:60px;background-color:rgba(200,200,200,0.5)}.scrollable{position:absolute;border-top:#eee 1px solid;border-bottom:#eee 1px solid;width:100%;top:50px;bottom:50px;overflow:auto;overflow-x:hidden;}.popupbuttons{background-color:rgba(200,200,200,0.4);height:50px;position:absolute;bottom:0;width:100%}.popupbox td,th{padding:5px}.popupbox tbody tr{border-top:#ccc solid 1px}#tooltip{display:inline;position:relative}#tooltip:hover:after{background:#333;background:rgba(0,0,0,.8);border-radius:5px;bottom:26px;color:#fff;content:attr(title);left:20%;padding:5px 15px;position:absolute;z-index:98;width:220px}#chat{z-index:2000;width:500px;position:absolute;right:15px;bottom:25px}#chatinput{bottom:0;position:absolute;opacity:.8}#chatlines a{color:#086A87}#chatlines{pointer-events:none;position:absolute;bottom:40px;width:500px;color:#333;word-wrap:break-word;box-shadow:0 0 10px #111;background-color:rgba(0,0,0,0.1);border-radius:5px;padding:5px;height:200px;overflow:auto}.listing>span{display:block;font-size:11px;font-weight:400;color:#999}.list{padding:0 0;list-style:none;display:block;font:12px/20px 'Lucida Grande',Verdana,sans-serif}.listing{border-bottom:1px solid #e8e8e8;display:block;padding:10px 12px;font-weight:700;color:#555;text-decoration:none;cursor:pointer;line-height:18px}li:last-child > .listing{border-radius:0 0 3px 3px}.listing:hover{background:#e5e5e5}";document.head.appendChild(st);var fontawesome=document.createElement("link");fontawesome.setAttribute("rel","stylesheet");fontawesome.setAttribute("type","text/css");fontawesome.setAttribute("href","http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css");document.head.appendChild(fontawesome);var socketscript=document.createElement("script");socketscript.setAttribute("type","text/javascript");socketscript.setAttribute("src","https://cdn.socket.io/socket.io-1.3.5.js");(document.body||document.head||document.documentElement).appendChild(socketscript);var socket;jQuery(document).keydown(function(a){if(13==a.keyCode||191==a.keyCode)jQuery("#chatinput").is(":visible")&&191!=a.keyCode?sendMSG():"text"!=document.activeElement.type&&(a.preventDefault(),tChat(),jQuery("#chatinputfield").focus())});window.connectPrivate=function(a,c,d){var e=a.toLowerCase().replace(/ /g,"")+".iomods.com",f=1500+parseInt(c);server.ip=e;server.i=c;server.location=a;connect("ws://"+e+":"+f);!d||"Teams"!=d&&"TeamZ"!=d?gamemode(""):gamemode(":teams");openChat()};function secondsToHms(a){a=Number(a);var c=Math.floor(a/3600),d=Math.floor(a%3600/60);a=Math.floor(a%3600%60);return(0<c?c+":"+(10>d?"0":""):"")+d+":"+(10>a?"0":"")+a}function addTeamSkinsHook(a){var c=a.match(/":teams"!=(\w)/);a=a.split(c[0]);return a[0]+'(":teams"!='+c[1]+"||ts)"+a[1]}function mToMs(a){a=Math.floor(.001*a);var c=Math.floor(a%60);return Math.floor(a%600/60)+":"+(10>c?"0":"")+c}function addConnectHook(a){var c=a.match(/console\.log\("Connecting to "\+a\);/);a=a.split(c[0]);return a[0]+'try{connect2("...")}catch(a){};'+c[0]+'if(a.indexOf(window.server.ip)==-1){window.server = {ip:"",i:"",location:""};closeChat();}'+a[1]}function httpGet(a,c){var d=new XMLHttpRequest;d.open("GET",a,!0);d.send(null);d.onreadystatechange=function(){4==d.readyState&&200==d.status&&c(d.responseText)}}window.connect2=window.connect?window.connect:function(){};function initbench(a){$("div#benchmarker").css({right:"7px",bottom:"25px",backgroundColor:"rgba(0,0,0,0.4)",opacity:"1.0",color:"white",fontFamily:"Ubuntu,Arial,sans-serif",position:"fixed",padding:"10px","text-align":"center","pointer-events":"none","z-index":"1000"});a?showt?$("div#benchmarker").css({display:"block"}):$("div#benchmarker").css({display:"none"}):tst(0<showfps+showpio+showbio+ptime);$("div#benchmarker").html('<table><h3>Benchmarker</h3><span>Time Elapsed: --:--</span><tr><th>Benchmark</th><th>Time</th><th>Best</th></tr><tr id="250mass"><td>250 Mass</td><td class="time">-----</td><td class="best">-----</td></tr><tr id="500mass"><td>500 Mass</td><td class="time">-----</td><td class="best">-----</td></tr><tr id="1000mass"><td>1000 Mass</td><td class="time">-----</td><td class="best">-----</td></tr><tr id="2500mass"><td>2500 Mass</td><td class="time">-----</td><td class="best">-----</td></tr><tr id="5000mass"><td>5000 Mass</td><td class="time">-----</td><td class="best">-----</td></tr></table>');for(a=0;a<benchmarks.length;a++)localStorage.getItem("best_"+benchmarks[a])&&$("#"+benchmarks[a]+" .best").html(mToMs(localStorage.getItem("best_"+benchmarks[a])));$("table").css({margin:"8px",padding:"8px"});$("div#benchmarker h3").css("text-align","center");$("div#benchmarker span").css({"text-align":"center",display:"inline-block"});$("td,th").css({padding:"5px","text-align":"left"});$("div#benchmarker h3").css({"margin-top":"4px"})}function addKeyboardHook(a){var c=a.match(/onkeydown=function\(\w\){/);a=a.split(c[0]);return a[0]+c[0]+" if(isVisible()) return;"+a[1]}function addLeaderboardHook(a){var c=a.match(/(fillStyle="#FFAAAA")(.+)(\w+)(\+1\+"\. ")/);a=a.split(c[0]);return a[0]+c[1]+",OnLeaderboard("+c[3]+"+1),ilead=true"+c[2]+c[3]+c[4]+a[1]}function addVirusColorHook(a){var c=a.match(/(\?\(\w\.fillStyle=")/);a=a.split(c[0]);return a[0]+"||zz&&this.h"+c[1]+a[1]}function agariomodsRuntimePatches(){gamejs_patch("(a,b){i","(a,b){if(!b){gamemode('')&&jQuery('#helloContainer').attr('data-party-state')!=0&&cancelParty(true);jQuery('#gps').fadeOut();window.nav(0,0,!1);var b=''};i","Kill parties and gps on private server connect");gamejs_patch("())};",'()||jQuery("#gps").fadeOut()&&window.nav&&window.nav(0,0,!1))};',"Toggle gps on gamemode change.");gamejs_patch('stats").show()','stats").show(),OnDeath()',"add death hook");gamejs_patch('w"),','w"),OnDrop(),',"log dropped frames");gamejs_patch('attr("data-party-state","1")','attr("data-party-state","1");jQuery("#gps").fadeIn()',"party hook");gamejs_patch('attr("data-party-state","5");','attr("data-party-state","5");jQuery("#gps").fadeIn();',"party hook");gamejs_patch('attr("data-party-state","0");','attr("data-party-state","0");jQuery("#gps").fadeOut();(window.nav&&window.nav(0,0,!1));',"party hook");gamejs_patch('attr("data-party-state","0"),','attr("data-party-state","0")&&jQuery("#gps").fadeOut()&&window.nav&&window.nav(0,0,!1),',"party hook");gamejs_patch("location.hash)",'location.hash)&&jQuery("#gps").fadeIn()',"Gps on on start from party.");gamejs_patch(/#partyToken/g,".partyToken","Change id selector to class selector.");gamejs_patch('console.log("socket close");','onwsclose();console.log("socket close");',"Simulate player death on unexpected socket close");gamejs_patch(".onclose=null;",".onclose=onwsclose;","Simulate player death on intentional socket close.");gamejs_patch(/\w>\w\/1\.1\?.*-50%\)"\);/,"","fixing menu on resize");gamejs_patch("cancelParty=function(){",'cancelParty=function(a){if(jQuery("#stats").is(":visible")){return};',"Leave party when connecting to private server - add funct var");gamejs_patch(/""\);(\w+\(\))/,'"");jQuery("#gps").fadeOut();window.nav&&window.nav(0,0,!1);!a&&$1',"Leave party when connecting to private server - handle",!0);gamejs_patch("else for","stillOnLeaderboard(ilead)}else for","adding function call for leaderboard checking");gamejs_patch(/(for\(\w\.f)/,"{var ilead=!1;$1","Preset veriable to check if on leaderboard",!0);gamejs_patch('b"];',"b\"],blklst='"+skinblacklist+"'.split(',');","blklst");gamejs_patch(";reddit;",";reddit;"+ourskins+";","add our skinlist to the original game skinlist.");gamejs_patch(b+"=this.name.toLowerCase();",b+'=this.name.toLowerCase();var agariomods="";var ourskins = "'+ourskins+'";if(pcs&&'+mycells+".indexOf(this)!=-1){agariomods=pcsrc}else if(("+b+'.length >0)&&(ourskins.split(";").indexOf('+b+')>-1)){agariomods="//skins.agariomods.com/i/"+'+b+'+".png";}else if('+b+'.substring(0,1)=="*"){if(!custom){var emn = this.name.substring(1);if(blklst.indexOf(emn)>-1){agariomods="";if(window.lastBlock!=emn){console.log("Skin \\""+emn+"\\" is Blacklisted");window.lastBlock=emn}} else {agariomods="//connect.agariomods.com/img_"+this.name.substring(1)+".png";}}}else if('+b+'.substring(0,2)=="i/"&&('+b+".length==7||"+b+'.length==9)){if(!custom){agariomods="//i.imgur.com/"+this.name.substring(2)+".jpg";}}else if('+b+'.substring(0,1)=="+"&&'+b+'.length>6){agariomods="http://server.kelvin.tk/yt/icon.php?"+this.name.substring(1).toLowerCase();}else if('+sk+".indexOf("+b+')>-1){agariomods="//agar.io/skins/"+this.name.toLowerCase()+".png";}',"add check for which skin mode we are in. be it no skin, default skin, custom skin, or an agariomods skin.");gamejs_patch(/(\w)\[0\]\.name\)\)/,"$1[0].name.search(/^(i\\/|\\*.|\\+.)/)==-1?$1[0].name:''))","Trying to fix nodes not being removed.",!0);gamejs_patch("=1E4,",'=1E4,zz=!1,yq=!1,xx=!1,xz=!1,ts=!1,custom=!1,opv=!1,pcs=!1,pcsrc="",',"adding variables");gamejs_patch(W+"["+b+'].src="skins/"+'+b+'+".png"',W+"["+b+"].src=agariomods","check for agariomods img src variable");gamejs_patch("this."+pandb+"&&"+bdot+".strokeText("+c3eg2+");"+bdot+".fillText("+c3eg2+")","if (String("+c3eg2.substr(0,1)+').substring(0, 2) != "i/" || custom) {this.'+pandb+"&&"+bdot+".strokeText("+c3eg2+");"+bdot+".fillText("+c3eg2+")}","add imgur skins check for hiding username when using imgur id aka c3eg2");gamejs_patch(b+"=this.name.toLowerCase();",b+"=this.name.toLowerCase(); if ((("+b+'.substring(0, 2) == "i/"&&('+b+".length==7||"+b+".length==9))||"+b+'.substring(0, 1) == "*"||('+b+'.substring(0, 1) == "+"&&'+b+".length>6))&&!custom&&"+Ja+".indexOf("+b+")==-1) {"+Ja+".push("+b+")} ;","add imgur check #2.");gamejs_patch(".googletag.pubads&&",".googletag.pubads&&window.googletag.pubads.clear&&","Fix for users with Ghostery");gamejs=addKeyboardHook(gamejs);gamejs=addSkinHook(gamejs);gamejs=addChartHooks(gamejs);gamejs=addOnCellEatenHook(gamejs);gamejs=addTeamMassHook(gamejs);gamejs=addTeamSkinsHook(gamejs);gamejs=addCanvasBGHook(gamejs);gamejs=addVirusColorHook(gamejs);gamejs=addFunctions(gamejs);gamejs=addOnShowOverlayHook(gamejs);gamejs=addOnHideOverlayHook(gamejs);gamejs=addLeaderboardHook(gamejs);gamejs=addConnectHook(gamejs);gamejs=addRecieveHook(gamejs);gamejs=addPCSHook(gamejs);gamejs=addOnSendHook(gamejs);gamejs=addOnDrawHook(gamejs);gamejs_patch(/=\w\.innerHeight/g,"=opv&&"+winvar+".innerHeight/"+winvar+".innerWidth>=0.5625?("+winvar+".innerWidth*0.5625):("+winvar+".innerHeight)","set height to 16:9",!0);gamejs_patch(/=\w\.innerWidth/g,"=opv&&"+winvar+".innerHeight/"+winvar+".innerWidth<=0.5625?("+winvar+".innerHeight/0.5625):("+winvar+".innerWidth)","set width to 16:9",!0);console.log("Testing complete, "+passed+" units passed and "+failed+" units failed.");failed&&console.log(Error("UNIT FAILED"))}function rate(a){rate[a]||(rate[a]={},rate[a].lastLoop=(new Date).getMilliseconds(),rate[a].count=1,rate[a].packet=0);var c=(new Date).getMilliseconds();rate[a].lastLoop>c?(rate[a].packet=rate[a].count,rate[a].count=1):rate[a].count+=1;rate[a].lastLoop=c;return rate[a].packet}function AppendText(a,c,d){c.globalAlpha=styles[d].alpha;c.font=styles[d].font;g_stat_spacing+=styles[d].spacing;d=c.measureText(a).width;g_layout_width=Math.max(g_layout_width,d);c.fillText(a,g_layout_width/2-d/2,g_stat_spacing)}function OnLoseMass(a,c){var d=a.size*a.size,e=c.name+":"+c.color;void 0==stats.losses[e]&&(stats.losses[e]={num:0,mass:0});stats.losses[e].num++;stats.losses[e].mass+=d;sfx_event(1)}function GetTopN(a,c){for(var d=[],e=Object.keys(stats[c]).sort(function(a,d){return-(stats[c][a].mass-stats[c][d].mass)}),f=0;f<a&&f<e.length;++f){var g=e[f],k=stats[c][g].mass,h=g.slice(0,g.length-8);h||(h="An unnamed cell");g=g.slice(g.length-7);d.push({name:h,color:g,mass:Math.floor(k/100)})}return d}function agariomodsRuntimeInjection(){var a=document.createElement("script");a.src="//cdnjs.cloudflare.com/ajax/libs/canvasjs/1.4.1/canvas.min.js";document.head.appendChild(a);var a=document.getElementsByTagName("head"),c=a[0].innerHTML,c=c.replace("#helloContainer,.connecting-panel{","#helloContainer{left:-2px;top:-6px;width:682px;"),c=c.replace("width:94px;","margin-right:10px;"),c=c.replace("#locationKnown","#locationKnown{height:40px}#locationKnown"),c=c.replace("#region{width:100%","#region{width:300px;float:left"),c=c.replace(".btn-spectate{",".btn-spectate{width:110px;"),c=c.replace("margin-left:5px;width:275px","width:357px"),c=c.replace("-webkit-transform:translate(-50%,-50%);",""),c=c.replace("-ms-transform:translate(-50%,-50%);",""),c=c.replace("transform:translate(-50%,-50%);",""),c=c.replace("top:50%;left:50%;","margin:10px;"),c=c.replace("width:100%;height:100%;",""),c=c.replace("#FFFFFF;m","rgba(255,255,255,0.85);opacity:0.93;m"),c=c.replace("581px","600px;left:100px"),c=c.replace("#statsContinue{","#statsContinue{margin-bottom:30px;"),c=c.replace(".agario-panel{",'#egstats{position:fixed;top:155px;left:468px;width:530px;background-color:rgba(255,255,255,0.93);border-radius:15px;padding:5px 15px;white-space:nowrap;overflow:hidden;}#helloContainer[data-gamemode=":party"][data-logged-in="1"] #egstats{left:696px;}#respawn{position:absolute;left:25px;right:25px;width:300px;bottom:285px;}.agario-profile-name-container{pointer-events: none;}#stats>canvas{margin-bottom:20px}#stats hr:first-of-type{margin-bottom:8px !important}#stats hr:last-of-type{margin-bottom:8px !important}br[clear="both"]{display:none}#mainPanel hr{margin:0 -15px 20px -15px}hr{height:12px;border:0;box-shadow:inset 0 12px 12px -12px rgba(0, 0, 0, 0.5)}.tosBox{display:none}.agario-panel.agario-side-panel.agario-profile-panel{overflow:hidden}.ribbon{margin-bottom:-100px;transform:rotate(26deg);background-color:#a00;overflow:hidden;white-space:nowrap;box-shadow:0 0 10px #888;right:-55px;top:-11px;position:relative;}.ribbon a {border:1px solid #faa;color:#fff;display:block;font:bold 11px "Helvetica Neue", Helvetica, Arial, sans-serif;margin:1px 0;padding:2px;text-align:center;text-decoration:none;text-shadow:0 0 5px #444;}.agario-promo{display:none !important;}body>#chart-container{pointer-events:none}.connecting-panel{margin:0 0 !important;position:absolute;top:5px;right:5px;z-index:2000}.ui{pointer-events:none}br+div:not([style]){height:35px;}#helloContainer>.agario-panel{float:left}#helloContainer>.side-container{float:right}.agario-panel{transform:none !important;');a[0].innerHTML=c;a=document.createElement("script");a.id="agariomods";agariomodsRuntimePatches();document.getElementById("agariomods")&&alert("You are currently running multiple instances of Agariomods simultaneously!\nCheck that you dont have Tampermonkey Script and the Chrome Extension running at the same time if you're on Chrome;\nYou will see visual glicthes until YOU fix this.");a.innerHTML=gamejs;var c=document.getElementById("canvas"),d=document.createElement("canvas");d.id="canvas";d.width=c.width;d.height=c.height;c.parentNode.replaceChild(d,c);document.getElementById("region").parentNode.replaceChild(rse,document.getElementById("region"));document.head.appendChild(a);agariomodsRuntimeHacks();bgmusic=new Audio;bgmusic.src="//skins.agariomods.com/botb/"+tracks[Math.floor(Math.random()*tracks.length)];bgmusic.load();bgmusic.loop=!1;bgmusic.onended=function(){var a=tracks[Math.floor(Math.random()*tracks.length)];bgmusic.src="//skins.agariomods.com/botb/"+a;bgmusic.play()};window.onbeforeunload=function(){if(!extToggled)return"Are you sure you want to quit agar.io?"};$("#canvas").on("mousedown",function(a){a.preventDefault()});a=document.getElementById("connecting").style;a.zIndex="99";a.display="block";document.getElementById("a300x250").style.backgroundImage="none"}window.log=function(a){console.log(a)};function getServers(){jQuery("#serverlist").empty();var a=[],c="",c='<div class="serverrow"><div href class="servername serveritem" style="display:table-cell"><b style="color: #222">'+locations[0]+'</b></div><div class="serverrower"><div class="serverrow">';for(x=l=0;l<lut.length&&x<locations.length;x++){locations[x].substring(0,lut[l+1].length)==lut[l+1]&&(c+='</div></div></div><div class="serverrow"><div href class="servername serveritem" style="display:table-cell"><b style="color: #222">'+locations[x]+'</b></div><div class="serverrower"><div class="serverrow">',l++);for(var d=1;2>=d;d++)serverid=locations[x].toLowerCase().replace(/ /g,"")+d,c+='<a href title="'+locations[x]+" #"+d+'" class="serveritem" id="'+serverid+'" onclick="connectPrivate(\''+locations[x]+"', '"+d+'\',this.gamemode);closeServerbrowser();return false;">\t\t\t<i style="color: black"><span id="player">fetching data...</span> <i style="color: black" class="fa fa-users" /><br id="br"><span id="game" style="font-style:normal;font-weight:bold"></span></i></a>',a.push([locations[x].toLowerCase().replace(/ /g,""),d])}$("#serverlist").append(c+"</div></div></div>");serverinfo(a,0)}function agariomodsRuntimeHacks(){jQuery("div.agario-panel:has(#locationUnknown)").css({width:"450px"});jQuery("div#settings div:has(#locationKnown)").css({float:"none"});var a=document.getElementById("canvas");a.style.backgroundSize="cover";a.style.backgroundRepeat="no-repeat";a.style.backgroundAttachment="fixed";document.body.style.backgroundColor="grey";var a=document.createElement("div"),c=document.createElement("div");$(document).ready(function(){hd=document.getElementsByClassName("agario-panel")[0];cachedhd=hd.innerHTML;hd.innerHTML=cachedhd.replace("<center>Agar.io</center>",'<a target="_blank" style="position:absolute; padding-left:435px;top:-10px; z-index: -1; height:120px;" href="https://www.reddit.com/r/Agario/"><img src="//i.imgur.com/TkTWOrc.png" height="120px"/></a>')});document.getElementById("nick").placeholder="agariomods.com";a.id="includedContent";a.style.width="calc(100% + 10px)";a.style.backgroundColor="#000000";a.style.zIndex=999;a.style.position="relative";c.style.padding="8px";a.style.borderRadius="5px";a.style.color="#dddddd";c.style.color="#dddddd";a.style.margin="3px -5px 8px";c.style.maxHeight="200px";c.style.width="calc(100% - 5px)";a.style.overflow="none";c.style.overflow="auto";c.innerHTML+='1.9.9.04: connect with agar.io/?ip:port or agar.io/#ip:port (<b>PRIVATE SERVERS ONLY</b>)<br><small>1.9.9.03: GPS for parties mode! Tell your party your coordinates(shown beside score), and have them put it in the gps!<br><small>1.9.9.02: Ghostery Fix!<br><small>1.9.9.01: \'+YoutubeUserName\' Skins</small></small></small><br> <b>Use custom skins with *ACCOUNTNAME</b><br><a href="http://connect.agariomods.com/" target="_blank"><font color="pink">Register now with agariomods connect to get custom skins!</font></a><br>Go catch up with the <a target="_blank" href="http://agariomods.com/documentation.html">Documentation</a><br> <a href="http://battleofthebits.bandcamp.com/" target="_blank style="background:url(\'http://i.imgur.com/0nYntZy.png\');height:100px;display:block;"></a> </div>';a.appendChild(c);jQuery(".form-group:first").replaceWith("<br>");jQuery("#region");jQuery("#playBtn");var c=document.createElement("span"),d=document.createElement("span");document.createElement("br");var e=document.createElement("div");e.innerHTML="<ul style='position:relative;left:-25px;width:450px;background-color:#428bca;text-align:center;font:16px bold,sans-serif;list-style-type:none;margin:6px 0 3px;padding:0;overflow:hidden;'><li style='float:left;'><a class='link' style='width:70px;' href='http://skins.agariomods.com' target='_blank'>SKINS</a><li style='float:left;'><a style='width:70px;' class='link' href='http://agariomods.com/chat.html' target='_blank'>CHAT</a><li style='float:left;'><a style='width:100px;' class='link' href='http://agariomods.com' target='_blank'>WEBSITE</a><li style='float:left;'><a style='width:110px;' class='link' href='http://agariomods.com/documentation.html' target='_blank'>FEATURES</a></li><li style='float:left;'><a style='width:100px;' class='link' style='border-right:0 !important' href onclick=\"alert('---HOTKEYS---\\nHold Z - Show Stats In-Game\\nConnect To Private Server - Alt+C\\nToggle Chat - C\\nInput Chat - Enter OR \\'/\\'\\nToggle Benchmarker - T\\nClear Benchmarks - Alt+T\\nTime On Page - Alt+1\\nFPS Counter - Alt+2\\nPackets In/Out Per Second - Alt+3\\nBytes In/Out Per Second - Alt+4\\nAttempt Lag Recovery - Alt+R'+(navigator.userAgent.match('Firefox')?'\\nTrue Fullscreen for Firefox - Ctrl+F\\nShow Menu While in Fullscreen - Delete':''));return false;\" target='_blank'>HOTKEYS</a></li></ul>";e.style.marginLeft="10px";d.className="glyphicon glyphicon-refresh btn btn-info";d.style.fontSize="1.5em";d.style.cssFloat="left";d.style.paddingTop="2px";d.style.width="15%";d.style.height="33px";c.id="iphack";c.style.width="85%";c.style.cssFloat="left";c.style.cssClear="right";c.style.padding="5px;";c.style.margin="5px;";c.style.border="2px solid green";jQuery("#locationUnknown").prepend(e);jQuery("#locationUnknown").append(a);$(".link").css({display:"block","border-right":"1px solid #0077CC",padding:"4px 0","background-color":"#428bca",color:"white"});$(".link").hover(function(){$(this).css("background-color","#529bda");$(this).removeClass("active")},function(){$(this).css("background-color","#428bca");$(this).removeClass("active")});jQuery(".btn-play,.btn-play-guest").click(function(){var a=document.getElementById("nick").value,c=localStorage.getItem("nick");"*"==a.substr(0,1)&&1<a.length&&c!=a?(a=a.substr(1),jQuery.ajax({url:"http://connect.agariomods.com/json/nodechatcheck.php?u="+getCookie("apikey"),dataType:"json",success:function(c){c.username==a&&1==c.has_img?localStorage.setItem("nick","*"+a):localStorage.setItem("nick","")},error:function(){localStorage.setItem("nick","")}})):localStorage.setItem("nick","")});jQuery(".form-group:first").removeAttr("class");jQuery(".btn-play-guest").addClass("btn-danger").removeClass("btn-success").css({"margin-left":"0",width:"208px"});jQuery(".btn-login").css("margin-right","4px");jQuery(".btn-login").css("width","140px");jQuery("#settings div:has(#locationKnown)").css("width","100%");a=jQuery("#settings div:has(.btn-spectate)");jQuery(".btn-spectate").insertAfter($("#region"));a.remove();jQuery("#statsContinue").html("Menu");jQuery("#statsContinue").clone().addClass("btn-info").removeClass("btn-primary").prop("id","respawn").attr("onclick","setNick(document.getElementById('nick').value);return false;").removeProp("date-itr").html("Respawn").insertAfter($("#statsContinue"))}var chart_update_interval=10,chart=null,chart_data=[],chart_counter=0,stat_canvas=null,stats=null,my_cells=null,my_color="#ff8888",pie=null,stats_chart,display_chart="true"===LS_getValue("display_chart","true"),display_stats="true"===LS_getValue("display_stats","false"),g_stat_spacing=0,g_display_width=220,g_layout_width=g_display_width;function count(a){$("div#benchmarker span").html("Time Elapsed: "+mToMs(a?a:Date.now()-stats.birthday))}function ResetStats(a){stats={pellets:{num:0,mass:0},w:{num:0,mass:0},cells:{num:0,mass:0},viruses:{num:0,mass:0},birthday:a,time_of_death:null,high_score:0,leader_time:0,top_slot:Number.POSITIVE_INFINITY,gains:{},losses:{}}}function AppendTopN(a,c,d){a=GetTopN(a,c);for(var e=0;e<a.length;++e)d.append('<li style="font-size: 12px; "><div style="width: 10px; height: 10px; border-radius: 50%; margin-right:5px; background-color: '+a[e].color+'; display: inline-block;"></div>'+("<bdi>"+a[e].name+"</bdi> ("+("gains"==c?"+":"-")+a[e].mass+" mass)")+"</li>");return 0<a.length}function addTeamMassHook(a){var c=a.match(/":teams"!=(\w)/),d=c[1],c=a.match(/this\.id&&(\w+)/);a=a.split(c[0]);var e=c[1];a=a[0]+"this.id&&("+e+"||yq)"+a[1];var f=a.match(/\(!this\.\w\|\|this\.\w\)/),c=a.match(/(\w)=-1!=(\w)\.indexOf\(this\);/),g=c[1],c=c[2];a=a.split("}0");return a[0]+"}if(-1!="+c+".indexOf(this)){"+g+"="+e+"}else if(yq&&"+c+"[0]&&"+d+"==':teams'&&this.size>20&&"+f+"&&this.color.substr("+c+"[0].color.search('ff'),2)=='ff'){"+g+"=true};0"+a[1]}function time(a){document.getElementById("time-agariomods").children[1].innerHTML=mToMs(a-pload)}function multirate(a,c){multirate[a]||(multirate[a]={},multirate[a].lastLoop=(new Date).getMilliseconds(),multirate[a].count=c,multirate[a].packet=0);var d=(new Date).getMilliseconds();multirate[a].lastLoop>d?(multirate[a].packet=multirate[a].count,multirate[a].count=0):multirate[a].count+=c;multirate[a].lastLoop=d;return multirate[a].packet}window.onpageshow=function(){pload=Date.now();initbench(!0);document.getElementById("bgimg").checked=!1;$("div#options label:not([nosave])").change(function(){$("div#options input:checkbox").each(function(){localStorage.setItem("setting"+$(this).parent().text().replace(" ","_"),this.checked)});$("div#options input[type=range]").each(function(){localStorage.setItem("setting"+$(this).parent().text().replace(" ","_"),this.value)})});$("div#options input:not([nosave])").each(function(){check(this)});document.getElementById("nick").value=localStorage.getItem("nick");history.replaceState("agar.io","Agar.io","/");document.getElementById("load").style.display="none";document.getElementById("load").remove();document.getElementById("loadercss").remove();document.getElementById("overlays").style.display="block";document.getElementsByClassName("coord")[0].onkeypress=function(a){44==a.keyCode?(a.preventDefault(),$(".coord")[1].focus()):(48>a.keyCode||57<a.keyCode)&&a.preventDefault();3<=this.value.length&&$(".coord")[1].focus()};document.getElementsByClassName("coord")[1].onkeypress=function(a){(48>a.keyCode||57<a.keyCode)&&a.preventDefault();if(48<a.keyCode&&57>a.keyCode&&4==this.value.length){var c=document.getElementsByClassName("coord");String.fromCharCode(null!=a.charCode?a.charCode:a.keyCode);window.nav(Math.floor(c[0].value),Math.floor(c[1].value),!0);$(".coord").blur()}}};window.check=function(a){var c=document.createEvent("HTMLEvents");c.initEvent("change",!1,!0);a.dispatchEvent(c)};$(document).ready(function(){$("div#options label:not([nosave]) input:checkbox").each(function(){$(this).attr("checked","true"==localStorage.getItem("setting"+$(this).parent().text().replace(" ","_")))});$("div#options label:not([nosave]) input[type=range]").each(function(){$(this).attr("value",localStorage.getItem("setting"+$(this).parent().text().replace(" ","_")))})});var kd=!1;$(document).keydown(function(a){90!=a.keyCode||jQuery("#chatinput").is(":visible")||0!=kd||"none"!=document.getElementById("overlays").style.display||(kd=!0,document.getElementById("overlays").style.display="block",document.getElementById("overlays").style.pointerEvents="none",jQuery("#egstats").appendTo($("#overlays")),$("#helloContainer").hide(),showsh=!0,DrawStats(!1));84!=a.keyCode||a.altKey||"text"==document.activeElement.type||(showt=!showt,localStorage.setItem("showt",showt),document.getElementById("benchmarker").style.display=showt?"block":"none");84==a.keyCode&&a.altKey&&confirm("Are you sure you want to delete your saved data on agar.io?\nThis will delete your all of your 'Best' stats, saved settings, and your saved API Key, and also log you out of Facebook from Agar.io.")&&localStorage.clear()&&(document.cookie="apikey=")&&logout()&&(extToggled=!0)&&(window.location=window.location);67!=a.keyCode||a.altKey||"text"==document.activeElement.type||(chatEnabled=!chatEnabled,document.getElementById("setChat").checked=chatEnabled,localStorage.setItem("chatEnabled",chatEnabled),".iomods.com"==server.ip.substr(-11)&&(chatEnabled?openChat():closeChat()));if(67==a.keyCode&&a.altKey){var c=localStorage.getItem("ip"),c=prompt("Ogar Connect - Connect to a Private Ogar Server\nEnter IP or URL",null==c?"":c);if(null==c)return;""==c&&alert("No IP/URL inputed");c=c.split("ws://").join("").trim();if(-1==c.indexOf("/")&&-1!==c.search(/:\d/)&&-1!==c.search(/[a-zA-Z0-9]\.[a-zA-Z0-9]/)&&encodeURI(c)==c)c="ws://"+c;else{alert("Invalid IP/URL");return}try{connect(c)}catch(d){alert("Illegal IP/URL");return}localStorage.setItem("ip",c)}a.altKey&&49==a.keyCode&&(ptime=!ptime,document.getElementById("time-agariomods").style.display=ptime?"block":"none",ptime?time(Date.now()):document.getElementById("time-agariomods").children[1].innerHTML="",tst(0<showfps+showpio+showbio+ptime));a.altKey&&50==a.keyCode&&(showfps=!showfps,$(".fps-agariomods").css("display",showfps?"block":"none"),tst(0<showfps+showpio+showbio+ptime));a.altKey&&51==a.keyCode&&(showpio=!showpio,$(".pio-agariomods").css("display",showpio?"block":"none"),tst(0<showfps+showpio+showbio+ptime));a.altKey&&52==a.keyCode&&(showbio=!showbio,$(".bio-agariomods").css("display",showbio?"block":"none"),tst(0<showfps+showpio+showbio+ptime));if(!a.altKey||81!=a.keyCode||!in_game)if(a.ctrlKey&&70===a.keyCode&&navigator.userAgent.match("Firefox")&&(a.preventDefault(),document.mozFullScreenElement?document.mozCancelFullScreen():document.getElementById("overlays").mozRequestFullScreen()),46===a.keyCode&&navigator.userAgent.match("Firefox")&&document.mozFullScreenElement&&"text"!=document.activeElement.type&&$(document).trigger(jQuery.Event("keydown",{keyCode:"27",which:"27"})),82==a.keyCode&&a.altKey&&!ldown)for(ldown=!0,console.log("pausing"),a=(new Date).getTime();a+500>=(new Date).getTime(););});$(document).keyup(function(a){90==a.keyCode&&1==kd&&(kd=!1,document.getElementById("overlays").style.display="none",document.getElementById("overlays").style.pointerEvents="auto",jQuery("#egstats").appendTo($("#helloContainer")),$("#helloContainer").show(),showsh=!1);82==a.keyCode&&a.altKey&&ldown&&(ldown=!1)});var m,benchmarker,benchmarks=["250mass","500mass","1000mass","2500mass","5000mass"],mass_benchmarks=[250,500,1E3,2500,5E3],massPrev=0;$("body").append('<div id="benchmarker"></div>');function DrawStats(a){if(!a==in_game){jQuery("#statArea").empty();jQuery("#pieArea").empty();jQuery("#gainArea").empty();jQuery("#lossArea").empty();jQuery("#chartArea").empty();jQuery("#egstats").show();a=(null==stats.time_of_death?Date.now():stats.time_of_death)-stats.birthday;count(a);var c=jQuery("<ul>");c.append('<li style="font-size: 12px; ">Game time: '+mToMs(a)+"</li>");c.append('<li style="font-size: 12px; ">High score: '+~~(stats.high_score/100)+"</li>");stats.top_slot==Number.POSITIVE_INFINITY?c.append('<li style="font-size: 12px; ">You didn\'t make the leaderboard.</li>'):c.append('<li style="font-size: 12px; ">Top Position: '+stats.top_slot+"</li>");0<stats.leader_time&&c.append('<li style="font-size: 12px; ">Leaderboard Time: '+mToMs(stats.leader_time)+"</li>");c.append('<li style="font-size: 12px; padding-top: 15px">'+stats.pellets.num+" pellets eaten ("+~~(stats.pellets.mass/100)+" mass)</li>");c.append('<li style="font-size: 12px; ">'+stats.cells.num+" cells eaten ("+~~(stats.cells.mass/100)+" mass)</li>");c.append('<li style="font-size: 12px; ">'+stats.w.num+" masses eaten ("+~~(stats.w.mass/100)+" mass)</li>");c.append('<li style="font-size: 12px; ">'+stats.viruses.num+" viruses eaten ("+~~(stats.viruses.mass/100)+" mass)</li>");c.append('<li style="font-size: 12px; ">Total mass eaten: '+(~~(stats.pellets.mass/100)+~~(stats.cells.mass/100)+~~(stats.w.mass/100)+~~(stats.viruses.mass/100))+"</li>");jQuery("#statArea").append("<b>Game Summary</b>");jQuery("#statArea").append(c);DrawPie(stats.pellets.mass,stats.w.mass,stats.cells.mass,stats.viruses.mass);jQuery("#gainArea").append("<b>Top Gains</b>");c=jQuery("<ol>");AppendTopN(5,"gains",c)?jQuery("#gainArea").append(c):jQuery("#gainArea").append('<ul><li style="font-size: 12px; ">You have not eaten anybody</li></ul>');jQuery("#lossArea").append("<b>Top Losses</b>");c=jQuery("<ol>");AppendTopN(5,"losses",c)?jQuery("#lossArea").append(c):jQuery("#lossArea").append('<ul><li style="font-size: 12px; ">Nobody has eaten you</li></ul>');0==jQuery("#chart-container").is(":visible")&&in_game||!in_game?(jQuery("#chartArea").width(500).height(150),stat_chart=CreateChart("chartArea",my_color,!0,500,150),stat_chart.render()):jQuery("#chartArea").width(500).height(0);jQuery(".canvasjs-chart-credit").hide()}}var styles={heading:{font:"20px Ubuntu",spacing:41,alpha:1},subheading:{font:"18px Ubuntu",spacing:31,alpha:1},normal:{font:"12px Ubuntu",spacing:21,alpha:.6}};function addOnHideOverlayHook(a){var c=a.match(/\w+\("#overlays"\)\.hide\(\)/);a=a.split(c[0]);return a[0]+c[0]+";OnHideOverlay()"+a[1]}function sfx_play(a){0!=document.getElementById("sfx").value&&(a=ssfxs[a],a.volume=document.getElementById("sfx").value,a.play())}for(var pellets=[],pellet=0,i=0;50>i;i++)newsfx=new Audio("data:audio/mp3;base64,SUQzAwAAAAAAIlRSQ0sAAAACAAAAOFRJVDIAAAAMAAAAQXVkaW8gVHJhY2v/8yTEAAcAQph5SRAAAMuAAnOc5z/mwmFwBgDA2TvWD4PyjpQ5vlHcH+9/fK8aWTj/8yTEBwlocqgBmtAA0HYmGCTgm37MUrTnLZjRhwJ0wNQRg5EY8gXae+xVQhZevYv/8yTEBAewXpghzwABX2fMStQ1DTRLaQUW0QkTU6o7CyvRX4gpvwQWTEFNRTMuOTn/8yTECAAAA0gAAAAALjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo="),newsfx.loop=!1,pellets.push(newsfx);function openChat(){apikey=getCookie("apikey");if(chatEnabled){var a=server.i,c=server.location;socket=io.connect("http://"+server.ip+":"+(12040+parseInt(a)),{forceNew:!0,reconnection:!1});socket.on("disconnect",function(){});socket.on("connect",function(){socket.emit("auth",{key:apikey})});socket.on("init",function(){jQuery("#chat").fadeIn();jQuery("#chatlines").empty();addServer("<b>You are now connected to: "+c+" #"+a+"</b>")});socket.on("chat",function(a){addLine(a)});socket.on("info",function(a){addServer(a.msg)})}}function addOnShowOverlayHook(a){var c=a.match(/:e\("#overlays"\)\.show\(\)/);a=a.split(c[0]);return a[0]+c[0]+",OnShowOverlay("+c[1]+")"+a[1]}function play_pellet(){0!=document.getElementById("sfx").value&&(pellet++,49<pellet&&(pellet=0),pellets[pellet].volume=document.getElementById("sfx").value,pellets[pellet].play())}for(var sfxlist="split eat bounce merge virusfeed virusshoot virushit".split(" "),sfxs=[],i=0;i<sfxlist.length;i++)newsfx=new Audio("//skins.agariomods.com/botb/sfx/"+sfxlist[i]+".mp3"),newsfx.loop=!1,newsfx.onended=function(){$(this).remove()},sfxs.push(newsfx);function addServer(a){jQuery("#chatlines").append(" *** "+a+"<br>");jQuery("#chatlines").animate({scrollTop:$("#chatlines")[0].scrollHeight})}function logBenchmark(a,c){"-----"==$("#"+a+" .time").html()&&(console.log("Benchmark set: "+a+" at "+mToMs(c)),$("#"+a+" .time").html(mToMs(c)),null==localStorage.getItem("best_"+a)||c<localStorage.getItem("best_"+a))&&(console.log("Best time set: "+a+" at "+mToMs(c)),$("#"+a+" .best").html(mToMs(c)),localStorage.setItem("best_"+a,c))}function addFunctions(a){var c=a.match(/(\(\w+=)!0(,\w+=(\w+),\w+=(\w+)\))/),d=c[1],e=c[2],f=c[3],g=c[4],c=a.match(/(\w+)\("#connecting"\)\.show\(\),(\w+)\(\)/),k=c[1],h=c[2],c=a.match(/((\w)\.setAcid)/);a=a.split(c[0]);return a[0]+c[2]+".nav=function(a,b,c){"+f+"=a;"+g+"=b;"+d+"c"+e+"};"+c[2]+'.setPCS=function(a){pcs=a;if(a){var url=localStorage.getItem("pcsrc");if(url==null){url=""};var promp=prompt("Input Skin URL\\nRemember ONLY YOU will see this skin.",url);if(null==promp){jQuery("#pcson").attr("checked",false);check(document.getElementById("bgimg"));pcs=!a;return;}localStorage.setItem("pcsrc",promp);pcsrc=promp;}};'+c[2]+".setR=function(){"+k+'("#connecting").show(),'+h+"()};"+c[2]+".setMVR=function(a){opv=a;"+winvar+".onresize()};"+c[2]+".setTskins=function(a){ts=a};"+c[2]+".setCustom=function(a){custom=a;};"+c[2]+".setVColors=function(a){zz=a};"+c[2]+".setTeamMass=function(a){yq=a};"+c[2]+'.setBG=function(a){xx=a;if(a){var url=localStorage.getItem("bgurl");if(url==null){url=""};var promp=prompt("Image URL",url);if(null==promp){jQuery("#bgimg").attr("checked",false);check(document.getElementById("bgimg"));xx=!a;return;}localStorage.setItem("bgurl",promp);jQuery("#acid").attr("checked",false);check(document.getElementById("acid"));document.getElementById("canvas").style.backgroundImage=\'url("\'+promp+\'")\';xz=confirm("Show Grid Lines?");}};'+c[2]+".gamemode=function(a){if(a){"+gamd+"=a;}else{return "+gamd+"}};"+c[1]+a[1]}
